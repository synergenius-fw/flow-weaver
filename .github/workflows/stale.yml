name: Stale Issues

on:
  schedule:
    - cron: '0 9 * * 1'
  workflow_dispatch:

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v10
        with:
          stale-issue-message: >
            This issue has been inactive for 45 days. It will be closed in 15 days
            unless there's further activity. If this is still relevant, please comment
            to keep it open.
          stale-pr-message: >
            This PR has been inactive for 45 days. It will be closed in 15 days
            unless there's further activity.
          close-issue-message: 'Closed due to inactivity. Feel free to reopen if this is still relevant.'
          days-before-stale: 45
          days-before-close: 15
          stale-issue-label: stale
          stale-pr-label: stale
          exempt-issue-labels: 'alpha-feedback,enhancement,breaking'
          exempt-pr-labels: 'breaking'
